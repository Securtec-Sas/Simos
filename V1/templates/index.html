<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Datos de Spot Arb</title>
</head>
<body>
    <h1>Datos recibidos por WebSocket</h1>
    <ul id="data-list">
        {% for item in data %}
        <li>
            <strong>{{ item.symbol }}</strong> - Diferencia: {{ item.percent }}%<br>
            Exchanges: {{ item.exchanges | join(', ') }}
        </li>
        {% endfor %}
    </ul>
    <script>
        setInterval(() => { location.reload(); }, 5000);
    </script>
</body>
</html>
<script>
    // spotSocketController.js
    async function emitSpotPricesLoop(io) {
        // ... tu código ...
        io.emit('spot-arb', data); // <-- aquí 'io' debe estar definido
    }
</script>